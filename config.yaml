# BuildBureau Configuration
# Multi-layered AI Agent System Configuration

# Agent Hierarchy Configuration
agents:
  president:
    count: 1
    model: "gemini-2.0-flash-exp"
    instruction: |
      You are the President responsible for overseeing the entire project and making strategic decisions.
      Understand client requirements and develop comprehensive project plans.
      Appropriately delegate tasks to department managers and oversee overall progress.
    allowTools: true
    tools:
      - web_search
      - knowledge_base
    timeout: 120
    retryCount: 3

  president_secretary:
    count: 1
    model: "gemini-2.0-flash-exp"
    instruction: |
      You are the President's secretary. Record requirements received from the President
      and update the internal knowledge base. Document tasks in detail and hand them
      off to the department secretary.
    allowTools: true
    tools:
      - knowledge_base
      - document_manager
    timeout: 60
    retryCount: 3

  department_manager:
    count: 1
    model: "gemini-2.0-flash-exp"
    instruction: |
      You are the Department Manager responsible for dividing the entire project into section-level tasks.
      Assign section managers to each task and communicate objectives to section secretaries.
    allowTools: true
    tools:
      - web_search
      - knowledge_base
    timeout: 120
    retryCount: 3

  department_secretary:
    count: 1
    model: "gemini-2.0-flash-exp"
    instruction: |
      You are the Department Manager's secretary. Further elaborate on received tasks
      and conduct related research. Once prepared, pass task instructions to the manager.
    allowTools: true
    tools:
      - web_search
      - knowledge_base
      - document_manager
    timeout: 60
    retryCount: 3

  section_manager:
    count: 3
    model: "gemini-2.0-flash-exp"
    instruction: |
      You are the Section Manager responsible for creating detailed implementation plans
      and final specifications. Deploy these to multiple employee agents and assign
      implementation tasks.
    allowTools: true
    tools:
      - code_analyzer
      - knowledge_base
    timeout: 90
    retryCount: 3

  section_secretary:
    count: 3
    model: "gemini-2.0-flash-exp"
    instruction: |
      You are the Section Manager's secretary. Refine specifications for assigned tasks
      and coordinate with other section secretaries or department managers as needed.
      Create drafts of implementation procedures and specification documents.
    allowTools: true
    tools:
      - knowledge_base
      - document_manager
    timeout: 60
    retryCount: 3

  employee:
    count: 6
    model: "gemini-2.0-flash-exp"
    instruction: |
      You are an engineer who implements based on given specifications.
      Perform implementation according to specific specifications provided by the section manager
      and create deliverables such as code and documentation.
    allowTools: true
    tools:
      - code_execution
      - file_operations
      - knowledge_base
    timeout: 180
    retryCount: 3

# LLM Configuration
llm:
  provider: "google"
  apiEndpoint: "https://generativelanguage.googleapis.com"
  defaultModel: "gemini-2.0-flash-exp"
  maxTokens: 8192
  temperature: 0.7
  topP: 0.95

# gRPC Configuration
grpc:
  port: 50051
  maxMessageSize: 10485760  # 10MB
  timeout: 300  # seconds
  enableReflection: true

# Slack Integration
slack:
  enabled: false  # Set to true and provide tokens to enable
  token: "${SLACK_BOT_TOKEN}"
  channelID: "${SLACK_CHANNEL_ID}"
  notifications:
    projectStart:
      enabled: true
      message: "üöÄ Project \"{{.ProjectName}}\" has started"
    taskComplete:
      enabled: true
      message: "‚úÖ Task \"{{.TaskName}}\" completed ({{.Agent}})"
    error:
      enabled: true
      message: "‚ùå Error occurred: {{.ErrorMessage}} ({{.Agent}})"
    projectComplete:
      enabled: true
      message: "üéâ Project \"{{.ProjectName}}\" completed!"
  retryCount: 3
  timeout: 10

# Terminal UI Configuration
ui:
  enableTUI: true
  refreshRate: 100  # milliseconds
  theme: "default"
  showProgress: true
  logLevel: "info"

# System Configuration
system:
  workDir: "./work"
  logDir: "./logs"
  cacheDir: "./cache"
  maxConcurrentTasks: 10
  globalTimeout: 3600  # seconds
